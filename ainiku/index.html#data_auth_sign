<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>ainiku</title>
<script src="js/shcode.js" type="text/javascript"></script>
<link href="css/index.css" type="text/css" rel="stylesheet" />
</head>

<body>
 <div class="function">
 <a name="is_login"></a>
  <pre class="brush:js;toolbar:false">
    /**
     * æ£€æµ‹ç”¨æˆ·æ˜¯å¦ç™»å½?
     * @return integer 0-æœªç™»å½•ï¼Œå¤§äº0-å½“å‰ç™»å½•ç”¨æˆ·ID
     * @author å¯æ« <735579768@.qq.com>
     */
    function is_login(){
        $user = session('user_auth');
        if (empty($user)) {
            return 0;
        } else {
            return session('user_auth_sign') == data_auth_sign($user) ? $user['uid'] : 0;
        }
    }
 </pre>
 </div>
 
  <div class="function">
 <a name="auto_login"></a>
  <pre class="brush:js;toolbar:false">
/**
 *å‰å°è‡ªåŠ¨ç™»é™†åˆ¤æ–­
 */
 function auto_login(){
	 	$user=cookie('token');
		if(empty($user)){session('user_auth',null);return 0;};
	 	$uid=is_login();
		if(!$uid)$uid=autologin();
		return $uid;
	 }
 </pre>
 </div>
</body>
</html>
